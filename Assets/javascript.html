<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    small {
        color: red;
    }
    h4{
        color: green;
    }
</style>

<body>
    <div id="form">
        <fieldset style="display: center;">
            <legend>Registration Form</legend>
            <form action="" method="get">
                <!-- Name -->
                <label for="Name">Name</label>
                <input type="text" id="name" oninput="validate()" placeholder="Name">
                <br>
                <h4 id="dispaly_name"></h4>
                <small id="nameerror"></small>
                <br><br>

                <!-- Email -->
                <label for="Email">Email</label>
                <input type="text" id="email"  placeholder="Email">
                <br>
                <h4 id="dispaly_email"></h4>
                <small id="emailerror"></small>
                <br><br>

                <!-- Password -->
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="********">
                <br>
                <h4 id="dispaly_password"></h4>
                <small id="passworderror"></small>
                <br><br>

                <!-- Confirm Password -->
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmpassword"  placeholder="********">
                <br>
                <h4 id="dispaly_confirm"></h4>
                <small id="confirmpassworderror"></small>
                <br><br>

                <!-- Contact No -->
                <label for="Contact No">Contact No</label>
                <input type="text" id="contact"  placeholder="+91">
                <br>
                <h4 id="dispaly_contact"></h4>
                <small id="contacterror"></small>
                <br><br>

                <!-- DOB -->
                <label for="DOB">DOB</label>
                <input type="date" id="date"  onchange="display_age()" placeholder="dd/mm/yyyy">
                <br>
                <small id="ageMessage"></small>
                <small id="dateerror"></small>
                <br><br>

                <!--  -->

                <!-- Submit Button -->
                <button type="button" onclick="validate()">Submit</button>

            </form>

        </fieldset>
    </div>


    <script>
        function validate() {
            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            var confirmPassword = document.getElementById('confirmpassword').value;
            var date = document.getElementById('date').value;
            var contact = document.getElementById('contact').value;
            var name_regex = /^[a-zA-Z\- ]{3,50}$/;
            var email_regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            var password_regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_\-+=<>?])[A-Za-z\d!@#$%^&*()_\-+=<>?]{8,}$/;
            var date_regex = /^(0[1-9]|[1-2]\d|3[0-1])\/(0[1-9]|1[0-2])\/\d{4}$/;
            var contact_regex = /^91\d{10}$/;
            if (!name || !email || !password || !confirmPassword || !date || !contact) {
                document.getElementById('nameerror').innerHTML = "These fields cannot be empty"
                document.getElementById('emailerror').innerHTML = "These fields cannot be empty"
                document.getElementById('passworderror').innerHTML = "These fields cannot be empty"
                document.getElementById('confirmpassworderror').innerHTML = "These fields cannot be empty"
                document.getElementById('dateerror').innerHTML = "These fields cannot be empty"
                document.getElementById('contacterror').innerHTML = "These fields cannot be empty"
            }
            else if (!name_regex.test(name))
                document.getElementById('nameerror').innerHTML = "Name should be atleast 3 charachters long"

            else if (!email_regex.test(email))
                document.getElementById('emailerror').innerHTML = "Please enter a valid email"

            else if (!password_regex.test(password))
                document.getElementById('passworderror').innerHTML = "Password should atleast be 8 charachters long"

            else if (confirmPassword !== password)
                document.getElementById('confirmpassworderror').innerHTML = "Passwords not matched"

            else if (!date_regex.test(date))
                document.getElementById('dateerror').innerHTML = "Please enter the date in correct format(dd/mm/yy)"

            else if (!contact_regex.test(contact))
                document.getElementById('dateerror').innerHTML = "Mobile number should have only 12 digits including +91"
            
           
                else {
                document.getElementById('nameerror').innerHTML = "";
                document.getElementById('emailerror').innerHTML = "";
                document.getElementById('passworderror').innerHTML = "";
                document.getElementById('confirmpassworderror').innerHTML = "";
                document.getElementById('dateerror').innerHTML = "";
                document.getElementById('contacterror').innerHTML = "";
            }
           
           
        }

        function display_age() {
                var date = document.getElementById('date').value;
                var birthdate = new Date(date);
                var today = new Date();
                var age = today.getFullYear() - birthdate.getFullYear();
                document.getElementById('ageMessage').innerHTML = "Your Age is : " + age;
            }
    </script>
</body>

</html>

  <!-- else if(name && email && password && confirmPassword && contact && date){
      document.getElementById('display_name').innerHTML = "Your Name is : " +name;
         document.getElementById('display_email').innerHTML = "Your Email is : " +email;
     document.getElementById('display_password').innerHTML = "Your Password is : " +password;
        document.getElementById('display_confirm').innerHTML = "Your Confirm Password is : " +confirmPassword;
        document.getElementById('display_contact').innerHTML = "Your Contact No is : " +contact;
     } -->